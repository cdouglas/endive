{"id":"endive-0l0","title":"Conflict cost should scale with overlap size, not be flat","description":"Currently has_write_overlap() returns a boolean and the full flat conflict cost is paid regardless of how many tables/partitions actually overlap. This is wrong in two ways:\n\n1. **Per-table manifest I/O**: Each table has independent metadata and manifest list. A conflict in 1 table of a 5-table transaction should pay 1 table's worth of manifest I/O, not 5. The per-attempt cost (ML read + MF write + ML write) and conflict cost (historical ML reads, re-merge) should be proportional to the number of overlapping tables.\n\n2. **Per-partition vector clock**: Table partitioning changes a table version from a Lamport clock to a vector clock — every partition has independent table metadata and manifest list. Conflict resolution cost should scale with the number of overlapping partitions, not be all-or-nothing.\n\nFor exp1-4 this doesn't matter (single-partition tables, single-table transactions), but it will matter for future experiments with partitioned tables or multi-table transactions.\n\n**Approach**: has_write_overlap() should return overlap details (which tables, which partitions) rather than a boolean. get_conflict_cost() and get_per_attempt_cost() should accept overlap details and scale accordingly.","status":"open","priority":1,"issue_type":"bug","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-25T00:09:05Z","created_by":"Chris Douglas","updated_at":"2026-02-25T00:09:05Z"}
{"id":"endive-0tl","title":"consolidate.py ordering","description":"We do not query experiment results in arbitrary orders. The existing script streams results to the consolidated parquet file to avoid reading everything into memory, but it does not consider access patterns in its layout. To wit: it is known how the plotting script will access the consolidated file, so it would make sense to sort/group the experiments/ so the relevant runs are grouped together. This should not require sorting all result data, only the metadata and then streaming each experiment to the consolidated file","status":"open","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-27T23:23:41Z","created_by":"Chris Douglas","updated_at":"2026-02-27T23:23:41Z"}
{"id":"endive-12v","title":"Plot refactor: Create plotting.toml with function-mapped defaults","description":"Phase 3: Create plotting.toml at project root with per-function sections corresponding to Python plotting functions. Each section contains all parameters for that function with defaults.","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-23T22:40:18Z","created_by":"Chris Douglas","updated_at":"2026-02-23T22:42:13Z","closed_at":"2026-02-23T22:42:13Z","close_reason":"Created plotting.toml with per-function sections","dependencies":[{"issue_id":"endive-12v","depends_on_id":"endive-7t1","type":"blocks","created_at":"2026-02-23T22:40:25Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-1rg","title":"git commits in UTC","description":"The container is generating commits in UTC, rather than -0800 (my time zone). Override this and commit in my time zone (California)","status":"open","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-25T17:49:54Z","created_by":"Chris Douglas","updated_at":"2026-02-25T17:49:54Z"}
{"id":"endive-1sr","title":"Analyze and plot exp1/exp2/exp3a/exp3b results","description":"Run saturation_analysis on all 4 experiment groups. exp1: simple load curve. exp2: group-by fast_append_ratio. exp3a/3b: group-by catalog_service_latency_ms.","status":"closed","priority":1,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-23T21:13:25Z","created_by":"Chris Douglas","updated_at":"2026-02-23T21:16:29Z","closed_at":"2026-02-23T21:16:29Z","close_reason":"Analysis complete for all 4 experiment groups. Plots generated in plots/ directory."}
{"id":"endive-224","title":"Implement expctl list subcommand","description":"Default logical view: aggregate hashes per label, show group/configs/seeds/staleness/size. --verbose for per-hash detail. --physical for raw directory layout. --json for structured output. Size reported for disk only; consolidated-only shows 'consolidated'. Completeness detected via max seeds across hashes.","status":"open","priority":2,"issue_type":"feature","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-26T20:59:11Z","created_by":"Chris Douglas","updated_at":"2026-02-26T20:59:11Z","dependencies":[{"issue_id":"endive-224","depends_on_id":"endive-61x","type":"blocks","created_at":"2026-02-26T20:59:24Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-2m0","title":"Post-simulation cleanup: Remove old main.py globals and functions","description":"After the Simulation runner (endive-9tv) replaces main.py orchestration, remove old global variables and functions that are no longer needed.\n\n## Tasks\n- Remove old global variables: T_CAS, T_PUT, MAX_PARALLEL, TABLE_METADATA_INLINED, STATS, etc.\n- Remove old functions: get_metadata_root_latency(), get_manifest_list_latency(), etc.\n- Remove old ConflictResolver class\n- Remove old txn_gen() function\n- Remove old txn_commit_cas() function\n- Clean up any remaining dead code in main.py\n- Update any remaining references\n- Run full test suite to confirm nothing breaks\n\n## Context\nThis is part of the dead code cleanup for the Endive simulator rewrite per SPEC.md. Blocked by the Simulation runner (endive-9tv). Blocks Migration (endive-uck).","status":"closed","priority":3,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-22T18:44:41Z","created_by":"Chris Douglas","updated_at":"2026-02-22T20:00:37Z","closed_at":"2026-02-22T20:00:37Z","close_reason":"Deleted old main.py code (2800+ lines), replaced with slim CLI using new modules","dependencies":[{"issue_id":"endive-2m0","depends_on_id":"endive-9tv","type":"blocks","created_at":"2026-02-22T18:45:02Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-2na","title":"Quantify catalog latency (in)sensitivity in exp3a and exp3b","description":"Exp3a (100% FA) and exp3b (90/10 mix) sweep catalog CAS latency from 1ms to 120ms. Analyze and document how sensitive throughput and latency are to catalog latency across the load sweep. Produce a concise summary showing the magnitude of the effect (or lack thereof) to motivate exp4.","notes":"Report written to EXP3_REPORT.md. Eta-squared (one-way ANOVA) used as the bottleneck measure — extends to exp4 via two-way ANOVA with partial eta-squared for catalog_latency and num_tables.","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-24T15:23:56Z","created_by":"Chris Douglas","updated_at":"2026-02-24T17:15:17Z","closed_at":"2026-02-24T15:48:26Z","close_reason":"Analysis complete. Catalog latency is a threshold effect: -40-45% throughput at high contention (\u003c=100ms arrival), invisible at low contention (\u003e=300ms). Effect identical for FA and FA/VO mix. Motivates exp4: more tables shift aggregate load into the contended regime."}
{"id":"endive-2nx","title":"Consider validation history operation-type filtering for DELETE support","description":"Per SIMULATOR_REVIEW.md §10.4 and §2.4: Iceberg's validationHistory() only reads MLs for snapshots with matching operations (APPEND, OVERWRITE). In the current writers-only scope, all commits match, so n_behind equals the ML read count — the model is accurate.\n\nIf DELETE operations are added in the future, the n_behind count for validated overwrites should only count snapshots with APPEND or OVERWRITE operations, not DELETE or REPLACE operations. This would reduce the I/O convoy cost when delete-heavy workloads are mixed with validated overwrites.\n\nNot needed for current scope. Track for future mixed-workload extensions.","status":"open","priority":4,"issue_type":"feature","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-24T05:47:55Z","created_by":"Chris Douglas","updated_at":"2026-02-24T05:47:55Z"}
{"id":"endive-314","title":"Plot refactor: Rename config files to match labels","description":"Phase 2: Rename exp1_fastappend_baseline.toml→exp1_fa_baseline.toml, exp3a_catalog_latency_fa→exp3a_catalog_fa, exp3b_catalog_latency_mix→exp3b_catalog_mix. Update references in run_all_experiments.py.","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-23T22:40:18Z","created_by":"Chris Douglas","updated_at":"2026-02-23T22:41:47Z","closed_at":"2026-02-23T22:41:47Z","close_reason":"Renamed 3 config files, updated run_all_experiments.py references","dependencies":[{"issue_id":"endive-314","depends_on_id":"endive-7t1","type":"blocks","created_at":"2026-02-23T22:40:25Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-331","title":"Implement expctl complete subcommand","description":"Import generate_all_runs() from run_all_experiments.py to get expected run set. Compare against ExperimentStore (disk + consolidated). --dry-run reports missing counts. Otherwise execute missing runs with ProcessPoolExecutor. --group and --seeds required.","status":"open","priority":2,"issue_type":"feature","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-26T20:59:15Z","created_by":"Chris Douglas","updated_at":"2026-02-26T20:59:15Z","dependencies":[{"issue_id":"endive-331","depends_on_id":"endive-61x","type":"blocks","created_at":"2026-02-26T20:59:25Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-3x2","title":"Generate analysis plots for exp1/exp2/exp3a/exp3b","description":"Run saturation_analysis for each experiment: exp1 (single curve), exp2 (--group-by fast_append_ratio), exp3a (--group-by storage_provider), exp3b (--group-by storage_provider). Verify all plots generate without errors.","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-23T01:26:49Z","created_by":"Chris Douglas","updated_at":"2026-02-23T21:23:07Z","closed_at":"2026-02-23T21:23:07Z","close_reason":"All 4 experiment groups analyzed and plotted. exp1 (8 configs), exp2 (54/64), exp3a (20), exp3b (20).","dependencies":[{"issue_id":"endive-3x2","depends_on_id":"endive-bgk","type":"blocks","created_at":"2026-02-23T01:26:57Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-3x2","depends_on_id":"endive-eqe","type":"blocks","created_at":"2026-02-23T01:26:57Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-3x2","depends_on_id":"endive-jnd","type":"blocks","created_at":"2026-02-23T01:26:56Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-3zo","title":"Plot refactor: Create scripts/regenerate_plots.py","description":"Phase 6: Create unified Python script replacing regenerate_all_plots.sh. Scans experiment configs for [plots] sections, dispatches to appropriate functions, merges plotting.toml defaults with per-graph overrides.","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-23T22:40:20Z","created_by":"Chris Douglas","updated_at":"2026-02-23T22:45:24Z","closed_at":"2026-02-23T22:45:24Z","close_reason":"Created regenerate_plots.py with dry-run, pattern filter, per-config dispatch","dependencies":[{"issue_id":"endive-3zo","depends_on_id":"endive-7eo","type":"blocks","created_at":"2026-02-23T22:40:27Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-4dj","title":"Plot refactor: Cleanup old scripts and update docs","description":"Phase 7: Delete regenerate_all_plots.sh, plot_heatmap.py, analyze_operation_types.py, analysis.toml. Remove --skip-plots from saturation_analysis.py CLI. Update CLAUDE.md.","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-23T22:40:20Z","created_by":"Chris Douglas","updated_at":"2026-02-23T22:48:01Z","closed_at":"2026-02-23T22:48:01Z","close_reason":"Deleted old scripts, removed --skip-plots, updated CLAUDE.md, wrote PLOT_REFACTOR.md","dependencies":[{"issue_id":"endive-4dj","depends_on_id":"endive-3zo","type":"blocks","created_at":"2026-02-23T22:40:27Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-4sc","title":"Run exp1/exp2/exp3a/exp3b experiment suite","description":"Run operation-type experiments with real_conflict_probability=0.0. 112 variants/seed, 5 seeds. Isolates operation type cost without real-conflict aborts.","status":"closed","priority":1,"issue_type":"epic","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-23T01:26:31Z","created_by":"Chris Douglas","updated_at":"2026-02-23T21:13:18Z","closed_at":"2026-02-23T21:13:18Z","close_reason":"All sub-tasks completed; experiments run on remote host"}
{"id":"endive-5jy","title":"Reflect on ./SIMULATOR_REVIEW.md","description":"A review of the simulator fidelity to the Iceberg codebase is available in ./SIMULATOR_REVIEW.md . Read and reflect on its feedback and create new beads (with appropriate priority and dependencies) to address some of its feedback.","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-24T02:10:01Z","created_by":"Chris Douglas","updated_at":"2026-02-24T05:48:00Z","closed_at":"2026-02-24T05:48:00Z","close_reason":"Reviewed SIMULATOR_REVIEW.md. Created 3 issues: endive-vvn (P1 bug: validation IO ordering), endive-m5j (P3 doc: global seq assumption), endive-2nx (P4 future: operation-type filtering for DELETE). §10.3 (ML+ retry ML read) verified correct — get_per_attempt_cost() already includes 1 ML read on every attempt."}
{"id":"endive-603","title":"Evaluate rewritten simulator end-to-end","description":"Run simulator E2E, fix parquet schema gaps (operation_type, t_runtime), config loading gaps, and verify analysis pipeline","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-22T20:57:33Z","created_by":"Chris Douglas","updated_at":"2026-02-22T21:05:46Z","closed_at":"2026-02-22T21:05:46Z","close_reason":"E2E evaluation complete: parquet schema fixed, config loading fixed, simulation and analysis pipeline verified"}
{"id":"endive-61x","title":"Implement ExperimentStore core for expctl","description":"Create scripts/expctl.py with ExperimentStore class: scan disk dirs, scan consolidated parquet, detect stale hashes (code hash computed once), classify seeds as complete/empty/active/crashed (30min staleness threshold on .progress.json mtime), label-to-group mapping. Data model: ExperimentEntry dataclass. Filtering by group/pattern/exclude.","status":"open","priority":2,"issue_type":"feature","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-26T20:59:05Z","created_by":"Chris Douglas","updated_at":"2026-02-26T20:59:05Z"}
{"id":"endive-62z","title":"Clean up experiment_configs: delete inactive configs","description":"Delete all configs except exp1_fa_baseline, exp2_mix_heatmap, exp3a_catalog_fa, exp3b_catalog_mix. Remove archive/, examples/, validation/ dirs. Remove legacy groups from run_all_experiments.py. Update README.md.","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-23T22:55:58Z","created_by":"Chris Douglas","updated_at":"2026-02-23T23:03:08Z","closed_at":"2026-02-23T23:03:08Z","close_reason":"Deleted 60 inactive experiment configs, stripped legacy groups from runner, updated tests and docs. Committed as 7d7546a."}
{"id":"endive-6fi","title":"Increase latency table precision to 2 decimal places","description":"P95/P99 stddev shows ±0.0 due to 1-decimal rounding. Change latency formatting from 1 to 2 decimal places in generate_latency_vs_throughput_table.","status":"closed","priority":2,"issue_type":"bug","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-26T09:23:28Z","created_by":"Chris Douglas","updated_at":"2026-02-26T09:24:32Z","closed_at":"2026-02-26T09:24:32Z","close_reason":"Changed latency decimals from 1 to 2 in generate_latency_vs_throughput_table"}
{"id":"endive-6tj","title":"Add a --destructive option to the consolidation script that deletes experiments after they are read.","description":"The consolidation script leaves the contents of experiments/ intact. Due to quota limits, it is sometimes infeasible to store both the consolidated and raw results simultaneously. Add an option to delete experiments as they are written, acknowledging that this could result in data loss if the consolidation is interrupted or fails","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-24T17:28:09Z","created_by":"Chris Douglas","updated_at":"2026-02-24T17:36:59Z","closed_at":"2026-02-24T17:36:59Z","close_reason":"Added --destructive flag to consolidation script. Deletes experiment dirs after writing, skips deletion on errors."}
{"id":"endive-6vg","title":"Fix exp4a heatmap axes: inter_arrival_scale on x","description":"exp4a_tables_fa has num_tables on x and inter_arrival_scale on y, but convention is inter_arrival_scale always on x. Swap x_param/y_param in all 4 heatmap entries.","status":"closed","priority":2,"issue_type":"bug","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-26T08:01:35Z","created_by":"Chris Douglas","updated_at":"2026-02-26T08:01:55Z","closed_at":"2026-02-26T08:01:55Z","close_reason":"Swapped x_param/y_param in all 4 exp4a heatmap entries"}
{"id":"endive-6wo","title":"Regenerate all plots after experiment re-run","description":"After exp3a/exp3b experiments complete with new parameter sweeps:\n1. Consolidate results: python scripts/consolidate_all_experiments_incremental.py\n2. Regenerate plots: python scripts/regenerate_plots.py\n3. Visual checks:\n   - commit_rate_over_time: warmup (red) + cooldown (blue) annotations, legend below\n   - exp1 latency_vs_throughput_annotated.png: success rate labels above P99\n   - exp2 heatmaps: readable text on all colormaps (luminance-based), per-type p95/p99\n   - exp3a/exp3b: new heatmaps (7×10 grid) with RdYlBu for success_rate\n   - Colorblind-friendly palettes across all plots","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-24T05:52:10Z","created_by":"Chris Douglas","updated_at":"2026-02-24T18:29:43Z","closed_at":"2026-02-24T18:29:43Z","close_reason":"Closed","dependencies":[{"issue_id":"endive-6wo","depends_on_id":"endive-mvk","type":"blocks","created_at":"2026-02-24T05:52:15Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-6xm","title":"Add --profile flag to run_all_experiments.py","description":"After all runs complete, scan experiments/*/*/.profile.json files, join with cfg.toml params, write experiments/.profile.csv (summary stats per experiment, sorted by wall_clock_s desc). Print summary: median/min/max DES rates, queue depths, top 5 slowest configs.","status":"open","priority":2,"issue_type":"feature","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-26T19:37:20Z","created_by":"Chris Douglas","updated_at":"2026-02-26T19:37:20Z","dependencies":[{"issue_id":"endive-6xm","depends_on_id":"endive-jy1","type":"blocks","created_at":"2026-02-26T19:37:27Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-6xw","title":"Show DES event rate in check_progress.py","description":"Display avg DES rate and avg queue depth in the Active Simulations section when des_rate/queue_depth fields are present in .progress.json. Backward-compatible with old progress files.","status":"open","priority":3,"issue_type":"feature","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-26T19:37:22Z","created_by":"Chris Douglas","updated_at":"2026-02-26T19:37:22Z","dependencies":[{"issue_id":"endive-6xw","depends_on_id":"endive-jy1","type":"blocks","created_at":"2026-02-26T19:37:28Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-765","title":"Implement expctl gc subcommand","description":"Default is dry-run (preview deletions with sizes). --force to actually delete. --stale removes dirs with hash mismatch. --incomplete removes empty/crashed seed dirs. Never touches active seeds. Both modes by default if neither flag specified.","status":"open","priority":2,"issue_type":"feature","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-26T20:59:14Z","created_by":"Chris Douglas","updated_at":"2026-02-26T20:59:14Z","dependencies":[{"issue_id":"endive-765","depends_on_id":"endive-61x","type":"blocks","created_at":"2026-02-26T20:59:25Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-7eo","title":"Plot refactor: Move heatmap/op-type functions into saturation_analysis.py","description":"Phase 5: Move plotting functions from scripts/plot_heatmap.py and scripts/analyze_operation_types.py into saturation_analysis.py as library functions.","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-23T22:40:19Z","created_by":"Chris Douglas","updated_at":"2026-02-23T22:44:14Z","closed_at":"2026-02-23T22:44:14Z","close_reason":"Moved heatmap and operation_type functions into saturation_analysis.py","dependencies":[{"issue_id":"endive-7eo","depends_on_id":"endive-hel","type":"blocks","created_at":"2026-02-23T22:40:26Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-7t1","title":"Plot refactor: Hash stability - exclude [plots] from experiment hash","description":"Phase 1: Modify compute_experiment_hash() in endive/config.py to exclude [plots] section from hash computation, so adding plot config doesn't invalidate existing experiment directories. Add test.","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-23T22:40:17Z","created_by":"Chris Douglas","updated_at":"2026-02-23T22:41:09Z","closed_at":"2026-02-23T22:41:09Z","close_reason":"Hash excludes [plots] section, 3 tests pass"}
{"id":"endive-86t","title":"Implement Workload generator with topology ownership","description":"Create endive/workload.py per SPEC.md §4. Includes:\n- WorkloadConfig dataclass (frozen): inter_arrival, runtime, operation weights, topology (num_tables, partitions_per_table), table/partition selectors, conflict params\n- Workload class: generates Transactions with encapsulated rate and parameters\n  - __init__ takes WorkloadConfig + seed (NOT a Catalog reference)\n  - Topology (num_tables, partitions_per_table) comes from config, not Catalog\n  - generate() yields Transactions at inter-arrival times\n  - _create_transaction() samples runtime, tables, partitions, operation type\n- TableSelector ABC + ZipfTableSelector (hot tables) + UniformTableSelector\n- PartitionSelector ABC + ZipfPartitionSelector + UniformPartitionSelector\n- Operation type sampling from weighted distribution\n\nUnit tests (tests/test_workload.py):\n- Workload generates transactions at correct inter-arrival rates\n- Operation type distribution matches configured weights (chi-squared test)\n- ZipfTableSelector produces skewed distribution\n- UniformTableSelector produces uniform distribution\n- Topology from WorkloadConfig, not Catalog (no Catalog dependency)\n- Deterministic with seeded RNG\n- tables_written is subset of tables_read","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-22T18:14:09Z","created_by":"Chris Douglas","updated_at":"2026-02-22T18:54:01Z","closed_at":"2026-02-22T18:54:01Z","close_reason":"Implemented Workload generator per SPEC.md §4. WorkloadConfig, Table/Partition selectors (Uniform+Zipf), operation type sampling. Topology from config, not Catalog. 51 tests all passing.","dependencies":[{"issue_id":"endive-86t","depends_on_id":"endive-iyg","type":"blocks","created_at":"2026-02-22T18:15:09Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-8f7","title":"Verify experiment results","description":"Check: (1) exp1: all fast_append, zero aborts at low load (2) exp2: op_type distribution matches FA/VO ratio, zero validation_exception, only max_retries_exceeded aborts (3) exp3a/3b: throughput ordering instant\u003es3x\u003eazurex\u003es3\u003egcp","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-23T01:26:49Z","created_by":"Chris Douglas","updated_at":"2026-02-23T23:08:29Z","closed_at":"2026-02-23T23:08:29Z","close_reason":"All 3 checks pass: (1) exp1 100% fast_append, zero aborts at low load; (2) exp2 FA/VO ratios match config within 1.7%, zero validation_exception; (3) exp3a/3b throughput ordering correct under contention, noise at low load is expected.","dependencies":[{"issue_id":"endive-8f7","depends_on_id":"endive-3x2","type":"blocks","created_at":"2026-02-23T01:26:58Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-8ig","title":"Phase 4: Run analysis pipeline on baseline","description":"Run saturation_analysis on baseline experiment, verify plots generated","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-22T20:58:56Z","created_by":"Chris Douglas","updated_at":"2026-02-22T21:02:20Z","closed_at":"2026-02-22T21:02:20Z","close_reason":"All 5 plots + 2 tables generated successfully. 7 experiments indexed, warmup/cooldown filtering working.","dependencies":[{"issue_id":"endive-8ig","depends_on_id":"endive-c7r","type":"blocks","created_at":"2026-02-22T20:59:01Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-9tv","title":"Implement Simulation runner and Statistics collector","description":"Create endive/simulation.py per SPEC.md §6. Includes:\n- SimulationConfig dataclass: duration, seed, storage, catalog, workload, conflict_detector, max_retries, backoff config\n- Simulation class: coordinates workload generation, transaction execution, statistics\n  - run() creates SimPy environment, starts workload, runs to duration\n  - _run_workload() generates and launches transactions as SimPy processes\n  - _execute_transaction() runs single txn through execute() and records result\n- Statistics class: aggregate counters (committed, aborted, false/real conflicts, validation_exceptions, I/O counters)\n  - record_transaction() updates counters from TransactionResult\n  - to_dataframe() exports to pandas DataFrame\n  - export_parquet() writes results file\n\nUnit tests (tests/test_simulation.py):\n- Simulation runs to configured duration\n- Statistics counts match transaction outcomes\n- Deterministic: same seed = identical results\n- Backoff configuration applied correctly\n- All transactions recorded in statistics\n\nIntegration tests (tests/test_simulation_integration.py):\n- Full simulation with CASCatalog + S3StorageProvider + Workload\n- Throughput, latency, success rate are reasonable\n- Zero real conflicts with 100% FastAppend workload\n- High abort rate with 100% ValidatedOverwrite + high conflict probability\n- End-to-end: config → simulation → parquet output","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-22T18:14:16Z","created_by":"Chris Douglas","updated_at":"2026-02-22T19:46:57Z","closed_at":"2026-02-22T19:46:57Z","close_reason":"Implemented simulation.py (SimulationConfig, Statistics, Simulation with SimPy bridge) and test_simulation.py (33 tests all passing)","dependencies":[{"issue_id":"endive-9tv","depends_on_id":"endive-86t","type":"blocks","created_at":"2026-02-22T18:15:18Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-9tv","depends_on_id":"endive-f34","type":"blocks","created_at":"2026-02-22T18:15:15Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-9tv","depends_on_id":"endive-iyg","type":"blocks","created_at":"2026-02-22T18:15:12Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-9tv","depends_on_id":"endive-mli","type":"blocks","created_at":"2026-02-22T18:44:51Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-9tv","depends_on_id":"endive-s96","type":"blocks","created_at":"2026-02-22T18:44:59Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-9tv","depends_on_id":"endive-ta7","type":"blocks","created_at":"2026-02-22T18:44:54Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-bgk","title":"Run exp2 (op_type_heatmap) with 5 seeds","description":"Run: python scripts/run_all_experiments.py --groups op_type_heatmap --seeds 5. 8 loads × 8 fa_ratios × 5 seeds = 320 runs. FA/VO mix sweep, instant catalog, real_conflict_prob=0.0.","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-23T01:26:48Z","created_by":"Chris Douglas","updated_at":"2026-02-23T21:13:14Z","closed_at":"2026-02-23T21:13:14Z","close_reason":"Experiments completed on remote host","dependencies":[{"issue_id":"endive-bgk","depends_on_id":"endive-m91","type":"blocks","created_at":"2026-02-23T01:26:56Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-bke","title":"Write tests/test_expctl.py unit and integration tests","description":"~25 tests: ExperimentStore scan (disk, consolidated, stale detection, active/crashed classification), label_to_group, get_entries filtering, completeness calculation, format_bytes. Integration: cmd_list output, cmd_gc dry-run vs --force, cmd_compact with filter, cmd_complete --dry-run.","status":"open","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-26T20:59:17Z","created_by":"Chris Douglas","updated_at":"2026-02-26T20:59:17Z","dependencies":[{"issue_id":"endive-bke","depends_on_id":"endive-224","type":"blocks","created_at":"2026-02-26T20:59:26Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-bke","depends_on_id":"endive-331","type":"blocks","created_at":"2026-02-26T20:59:27Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-bke","depends_on_id":"endive-765","type":"blocks","created_at":"2026-02-26T20:59:27Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-bke","depends_on_id":"endive-h3u","type":"blocks","created_at":"2026-02-26T20:59:26Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-byj","title":"Implement TOML config loading and validation","description":"Create/update endive/config.py per SPEC.md §7. Includes:\n- load_simulation_config(path) -\u003e SimulationConfig: single entry point\n- _build_storage_provider(): constructs provider from [storage] section\n- _build_catalog(): constructs CAS/Append/Instant catalog with topology\n- _build_workload(): constructs Workload with topology from config (NOT from Catalog)\n- _build_conflict_detector(): constructs detector from [conflict] section\n- _build_partition_counts(): extracts per-table partition topology\n- validate_config(): comprehensive validation with errors and warnings\n  - Operation type weights sum to 1.0\n  - Provider supports required operations (CAS for CASCatalog, etc.)\n  - Topology consistency (partitions_per_table length == num_tables)\n- Backward compatibility: default config (100% fast_append) matches current behavior\n\nUnit tests (tests/test_config_loading.py):\n- Valid TOML loads without errors\n- Invalid config raises ConfigurationError with descriptive messages\n- Default operation weights: 100% fast_append\n- Provider capability validation (CAS requires supports_cas)\n- Topology validation (partition count matches table count)\n- Seed in config file, not CLI argument\n- Round-trip: load config → build simulation → verify all components wired correctly","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-22T18:14:25Z","created_by":"Chris Douglas","updated_at":"2026-02-22T19:51:40Z","closed_at":"2026-02-22T19:51:40Z","close_reason":"Implemented load_simulation_config() in config.py and 25 tests in test_config_loading.py","dependencies":[{"issue_id":"endive-byj","depends_on_id":"endive-86t","type":"blocks","created_at":"2026-02-22T18:15:31Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-byj","depends_on_id":"endive-f34","type":"blocks","created_at":"2026-02-22T18:15:28Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-byj","depends_on_id":"endive-jz9","type":"blocks","created_at":"2026-02-22T18:15:21Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-byj","depends_on_id":"endive-pcz","type":"blocks","created_at":"2026-02-22T18:15:24Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-c7r","title":"Phase 3: Run baseline experiment E2E","description":"Run exp1_fastappend_baseline.toml and verify parquet output columns","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-22T20:58:56Z","created_by":"Chris Douglas","updated_at":"2026-02-22T21:01:32Z","closed_at":"2026-02-22T21:01:32Z","close_reason":"27769 txns committed, all columns present: operation_type=fast_append, t_runtime populated, 14 columns total","dependencies":[{"issue_id":"endive-c7r","depends_on_id":"endive-q0o","type":"blocks","created_at":"2026-02-22T20:59:01Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-ccg","title":"Design exp4 adding tables to the catalog","description":"Given exp3b showing low sensitivity to catalog latency for a single table, design an experiment that varies the number of tables in the catalog (no multi-table transactions) and sweeps the same catalog latencies to show that even if table conflicts are not independent (i.e., CAS of the catalog)","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-24T15:20:27Z","created_by":"Chris Douglas","updated_at":"2026-02-24T15:29:48Z","closed_at":"2026-02-24T15:29:48Z","close_reason":"Implemented exp4a/exp4b configs, tables group in runner, updated README and CLAUDE.md"}
{"id":"endive-cfd","title":"Phase 1: Fix parquet schema (operation_type, t_runtime)","description":"Add operation_type and runtime_ms to TransactionResult, propagate to to_dataframe()","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-22T20:58:55Z","created_by":"Chris Douglas","updated_at":"2026-02-22T21:00:08Z","closed_at":"2026-02-22T21:00:08Z","close_reason":"Added operation_type and runtime_ms to TransactionResult, updated to_dataframe, fixed tests"}
{"id":"endive-ehp","title":"Push pending commits to remote","description":"3 commits ahead of self/main:\n- 6384969 feat: Improve plot quality across all experiments\n- 6f9792f feat: Expand exp3 parameter sweeps and refine plot configs\n- 8f1c14e fix: Replace colorblind-unfriendly palettes in plots\n\nPlus beads sync commits. Run: git push","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-24T05:52:11Z","created_by":"Chris Douglas","updated_at":"2026-02-24T18:29:24Z","closed_at":"2026-02-24T18:29:24Z","close_reason":"Closed"}
{"id":"endive-eqe","title":"Run exp3a+3b (op_type_catalog) with 5 seeds","description":"Run: python scripts/run_all_experiments.py --groups op_type_catalog --seeds 5. 5 providers × 4 loads × 2 configs × 5 seeds = 200 runs. Catalog latency sweep across instant/s3x/azurex/s3/gcp.","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-23T01:26:48Z","created_by":"Chris Douglas","updated_at":"2026-02-23T21:13:14Z","closed_at":"2026-02-23T21:13:14Z","close_reason":"Experiments completed on remote host","dependencies":[{"issue_id":"endive-eqe","depends_on_id":"endive-m91","type":"blocks","created_at":"2026-02-23T01:26:56Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-f34","title":"Implement ConflictDetector with probabilistic and partition-based modes","description":"Create endive/conflict_detector.py per SPEC.md §5. Includes:\n- ConflictDetector ABC: is_real_conflict(txn, current_snapshot, start_snapshot) -\u003e bool\n- ProbabilisticConflictDetector: returns real conflict with configured probability\n  - Respects txn.can_have_real_conflict() (FastAppend always returns False)\n- PartitionOverlapConflictDetector: checks per-(table, partition) version changes\n  - Compares start_snapshot partition versions vs current_snapshot\n  - Real conflict only if written partition was modified by concurrent txn\n\nUnit tests (tests/test_conflict_detector.py):\n- ProbabilisticConflictDetector with prob=0 never returns real conflict\n- ProbabilisticConflictDetector with prob=1 always returns real for ValidatedOverwrite\n- ProbabilisticConflictDetector respects can_have_real_conflict() (FastAppend immune)\n- PartitionOverlapConflictDetector detects same-partition modification\n- PartitionOverlapConflictDetector: different partitions = false conflict\n- Deterministic with seeded RNG","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-22T18:14:04Z","created_by":"Chris Douglas","updated_at":"2026-02-22T18:48:24Z","closed_at":"2026-02-22T18:48:24Z","close_reason":"Implemented ProbabilisticConflictDetector and PartitionOverlapConflictDetector per SPEC.md §5. Seeded RNG for determinism. 22 tests all passing.","dependencies":[{"issue_id":"endive-f34","depends_on_id":"endive-pcz","type":"blocks","created_at":"2026-02-22T18:15:06Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-h3u","title":"Implement expctl compact subcommand","description":"Import consolidation functions from consolidate.py. Filter by --group/--pattern/--exclude. Refuse to compact active seeds. Default to --partition mode when filtering subset. Supports --destructive, --verify, compression options.","status":"open","priority":2,"issue_type":"feature","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-26T20:59:12Z","created_by":"Chris Douglas","updated_at":"2026-02-26T20:59:12Z","dependencies":[{"issue_id":"endive-h3u","depends_on_id":"endive-61x","type":"blocks","created_at":"2026-02-26T20:59:24Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-hel","title":"Plot refactor: Add [plots] sections to experiment configs","description":"Phase 4: Add [plots] section with positive list of [[plots.graphs]] entries to each experiment config. Each entry maps type field to exactly one Python function.","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-23T22:40:19Z","created_by":"Chris Douglas","updated_at":"2026-02-23T22:42:52Z","closed_at":"2026-02-23T22:42:52Z","close_reason":"Added [plots] sections to all 4 experiment configs","dependencies":[{"issue_id":"endive-hel","depends_on_id":"endive-12v","type":"blocks","created_at":"2026-02-23T22:40:26Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-hel","depends_on_id":"endive-314","type":"blocks","created_at":"2026-02-23T22:40:26Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-iyg","title":"Implement Transaction types with conflict costs","description":"Create endive/transaction.py per SPEC.md §3. Includes:\n- TransactionStatus enum (PENDING, EXECUTING, COMMITTING, COMMITTED, ABORTED)\n- TransactionResult dataclass (frozen): status, timings, retry count, I/O counters, abort_reason\n- ConflictCost dataclass (frozen): metadata/ML/manifest reads and writes\n- Transaction ABC with:\n  - can_have_real_conflict(), get_conflict_cost(), should_abort_on_real_conflict()\n  - execute() orchestrates: read snapshot → execute → commit loop\n  - _commit_loop() abstract, calls catalog.commit() (uniform interface)\n- FastAppendTransaction: no real conflicts, cheap retry (1 ML read + 0-1 ML write)\n- MergeAppendTransaction: no real conflicts, re-merge manifests on retry\n- ValidatedOverwriteTransaction: real conflicts abort, I/O convoy (N historical ML reads)\n- All transactions use catalog.commit() — never try_cas/try_append\n\nUnit tests (tests/test_transaction_types.py):\n- FastAppend.can_have_real_conflict() == False\n- ValidatedOverwrite.should_abort_on_real_conflict() == True\n- get_conflict_cost() returns correct costs per type and n_behind\n- ConflictCost fields correct for ML+ mode vs standard mode\n- TransactionResult is immutable\n\nIntegration tests (tests/test_transaction_commit.py):\n- FastAppend commits successfully through CASCatalog\n- ValidatedOverwrite aborts on real conflict\n- MergeAppend retries with increasing manifest file I/O\n- Transaction uses only catalog.read() and catalog.commit()","status":"closed","priority":1,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-22T18:13:56Z","created_by":"Chris Douglas","updated_at":"2026-02-22T18:43:43Z","closed_at":"2026-02-22T18:43:43Z","close_reason":"Implemented Transaction types per SPEC.md §3. FastAppend/MergeAppend/ValidatedOverwrite with uniform commit interface, ConflictDetector ABC, 72 tests all passing.","dependencies":[{"issue_id":"endive-iyg","depends_on_id":"endive-pcz","type":"blocks","created_at":"2026-02-22T18:15:02Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-jnd","title":"Run exp1 (op_type_baseline) with 5 seeds","description":"Run: python scripts/run_all_experiments.py --groups op_type_baseline --seeds 5. 8 load values × 5 seeds = 40 runs. 100% FastAppend, instant catalog.","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-23T01:26:47Z","created_by":"Chris Douglas","updated_at":"2026-02-23T21:13:14Z","closed_at":"2026-02-23T21:13:14Z","close_reason":"Experiments completed on remote host","dependencies":[{"issue_id":"endive-jnd","depends_on_id":"endive-m91","type":"blocks","created_at":"2026-02-23T01:26:55Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-jy1","title":"Add _CountingEnvironment and DES time-series sampling to simulation.py","description":"Subclass simpy.Environment to count events processed and expose queue depth. Modify _progress_reporter to record per-interval DES snapshots (event delta, queue depth, sim_speed). Write .profile.json with summary stats + full time-series after simulation completes. Also add des_rate and queue_depth fields to .progress.json for live monitoring.","status":"open","priority":2,"issue_type":"feature","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-26T19:37:19Z","created_by":"Chris Douglas","updated_at":"2026-02-26T19:37:19Z"}
{"id":"endive-jz9","title":"Implement StorageProvider interface and implementations","description":"Create endive/storage.py per SPEC.md §1. Includes:\n- StorageResult dataclass (frozen, immutable)\n- StorageProvider ABC with read/write/cas/append/tail_append methods\n- LatencyDistribution protocol with .sample() method\n- LogNormalDistribution implementation (from YCSB benchmarks)\n- S3StorageProvider, S3XStorageProvider, AzureStorageProvider, GCPStorageProvider\n- supports_cas/supports_append/supports_tail_append capability flags\n- UnsupportedOperationError for unavailable operations\n- Minimum latency floors per provider (from PROVIDER_PROFILES in config.py)\n- All latencies drawn from opaque distribution objects, never inline\n\nUnit tests (tests/test_storage_provider.py):\n- Each operation returns StorageResult with correct fields\n- Latency \u003e= min_latency for each provider\n- UnsupportedOperationError for unavailable operations (e.g., CAS on append-only)\n- Deterministic with seeded RNG\n- StorageResult is immutable (frozen dataclass)","status":"closed","priority":1,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-22T18:13:43Z","created_by":"Chris Douglas","updated_at":"2026-02-22T18:24:46Z","closed_at":"2026-02-22T18:24:46Z","close_reason":"Implemented endive/storage.py with 85 tests in tests/test_storage.py. All 564 existing tests still pass."}
{"id":"endive-knm","title":"Stream parquet results to disk during simulation","description":"Statistics class accumulates all TransactionResult objects in memory, then bulk-converts to DataFrame for export. With 112 parallel workers this OOMs. Replace with StreamingStatistics that uses pyarrow.ParquetWriter to flush row groups incrementally (buffer_size=1000). Memory becomes O(buffer_size) instead of O(total_transactions). Modify simulation.py Statistics class, pass output path at construction, main.py passes path through.","status":"closed","priority":1,"issue_type":"bug","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-23T20:28:50Z","created_by":"Chris Douglas","updated_at":"2026-02-23T20:42:17Z","closed_at":"2026-02-23T20:42:17Z","close_reason":"Closed"}
{"id":"endive-kuu","title":"Extract PROVIDER_PROFILES to endive/providers/*.toml","description":"Move storage provider config from Python dict in config.py:342-545 to 6 TOML files (s3, s3x, azure, azurex, gcp, instant). Simplify schema: [read], [write], [cas], [append] sections. Remove dead manifest_list/manifest_file distinction. Update create_provider() to load from TOML. Remove ~350 lines of dead code from config.py. Update compute_experiment_hash() to include provider TOML files.","status":"closed","priority":2,"issue_type":"feature","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-23T20:28:47Z","created_by":"Chris Douglas","updated_at":"2026-02-23T20:42:17Z","closed_at":"2026-02-23T20:42:17Z","close_reason":"Closed","dependencies":[{"issue_id":"endive-kuu","depends_on_id":"endive-knm","type":"blocks","created_at":"2026-02-23T20:28:57Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-kww","title":"Improve progress tracking of simulations","description":"Running inside a container, docker logs is a coarse way to track and estimate time remaining in a simulation. Similarly, the progress in a simulation could be updated proportionally to the duration of the simulation remaining and then aggregated across parallel runs. Investigate ways to report finer-grained progress, a visible aggregate progress bar observable outside the container, and a more accurate estimate of time remaining in a simulation (also aggregated).","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-24T05:50:41Z","created_by":"Chris Douglas","updated_at":"2026-02-24T15:12:12Z","closed_at":"2026-02-24T15:12:12Z","close_reason":"Implemented progress reporting: per-sim .progress.json, in_progress runner state, check_progress.py script, tqdm rate display"}
{"id":"endive-ltq","title":"Output plotting data as markdown","description":"Modify plotting script so for each figure figure_name.png also output figure_name.md as a markdown table of its underlying data","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-25T22:55:47Z","created_by":"Chris Douglas","updated_at":"2026-02-26T00:12:16Z","closed_at":"2026-02-26T00:12:16Z","close_reason":"Implemented: auto-emit companion .md tables for every plot via TABLE_COMPANIONS dispatch"}
{"id":"endive-lxq","title":"Set real_conflict_probability=0.0 in exp2 and exp3b configs","description":"Change exp2_mix_heatmap.toml and exp3b_catalog_latency_mix.toml: real_conflict_probability 0.1→0.0. Update header comments to remove mentions of real conflicts and ValidationException aborts. exp1 and exp3a already have 0.0.","status":"closed","priority":1,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-23T01:26:47Z","created_by":"Chris Douglas","updated_at":"2026-02-23T18:08:49Z","closed_at":"2026-02-23T18:08:49Z","close_reason":"Already complete: both configs have real_conflict_probability=0.0 and comments updated"}
{"id":"endive-m5j","title":"Document global seq as single-file catalog contention model","description":"Per SIMULATOR_REVIEW.md §10.2 and §4.1: The simulator's global seq models a single-file catalog (FileIOCatalog) where all tables contend on one pointer. Per-table metadata (REST catalog) would show different contention profiles because table commits don't interfere.\n\nThe SPEC and documentation should explicitly note this assumption so results are correctly interpreted. Add a note to SPEC.md §2.1 and docs/ARCHITECTURE.md explaining that the global seq represents worst-case catalog contention.","status":"closed","priority":3,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-24T05:47:47Z","created_by":"Chris Douglas","updated_at":"2026-02-24T15:16:03Z","closed_at":"2026-02-24T15:16:03Z","close_reason":"Added contention model note to SPEC.md §2.1 and ARCHITECTURE.md Simulation Fidelity section"}
{"id":"endive-m91","title":"Quick smoke test: run op_type_baseline with --quick --seeds 1","description":"Run: python scripts/run_all_experiments.py --groups op_type_baseline --quick --seeds 1. Verify output has operation_type/t_runtime columns, no validation_exception aborts.","status":"closed","priority":1,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-23T01:26:47Z","created_by":"Chris Douglas","updated_at":"2026-02-23T18:10:37Z","closed_at":"2026-02-23T18:10:37Z","close_reason":"Smoke test passed: 3/3 experiments, operation_type+t_runtime columns present, 0 validation_exception aborts","dependencies":[{"issue_id":"endive-m91","depends_on_id":"endive-lxq","type":"blocks","created_at":"2026-02-23T01:26:55Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-mli","title":"Post-phase cleanup: Remove old storage_provider.py","description":"After StorageProvider (endive-jz9, already closed) was implemented as endive/storage.py, the old endive/storage_provider.py and its tests (tests/test_storage_provider_config.py) are redundant.\n\n## Tasks\n- Update main.py imports to use new storage.py\n- Remove old endive/storage_provider.py\n- Remove old tests/test_storage_provider_config.py\n- Verify no remaining references to old module\n- Run full test suite to confirm nothing breaks\n\n## Context\nThis is part of the dead code cleanup for the Endive simulator rewrite per SPEC.md. Blocks the Simulation runner (endive-9tv).","status":"closed","priority":3,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-22T18:44:23Z","created_by":"Chris Douglas","updated_at":"2026-02-22T19:38:49Z","closed_at":"2026-02-22T19:38:49Z","close_reason":"Consolidated old modules into endive/_legacy.py, deleted 5 old modules and 3 old test files. 676 tests pass."}
{"id":"endive-mvk","title":"Re-run exp3a/exp3b experiments with expanded parameter sweep","description":"After Docker image rebuild, re-run catalog experiments with new sweep ranges:\n- 7 catalog latencies × 10 arrival rates = 70 combos per experiment\n- 5 seeds = 350 runs per experiment, 700 total\n- ~45 min per experiment with 8+ cores\n\nOld exp3a/exp3b data (5 latencies × 4 loads) will be stale — new hashes won't collide.\n\nCommand: docker run ... python scripts/run_all_experiments.py --groups catalog --seeds 5 --parallel N","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-24T05:52:10Z","created_by":"Chris Douglas","updated_at":"2026-02-24T18:29:41Z","closed_at":"2026-02-24T18:29:41Z","close_reason":"Closed","dependencies":[{"issue_id":"endive-mvk","depends_on_id":"endive-ehp","type":"blocks","created_at":"2026-02-24T05:52:15Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-mvk","depends_on_id":"endive-xg2","type":"blocks","created_at":"2026-02-24T05:52:14Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-no0","title":"Analyze DES profiling output to build simulation cost model","description":"After running experiments with --profile, read .profile.csv and .profile.json time-series. Regress wall_clock_s and des_rate on config params (inter_arrival_scale, num_tables, provider, fa_ratio). Identify which parameters drive simulator slowdown and whether DES rate is constant or varies by config. Look for queue depth buildup patterns.","status":"open","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-26T19:37:24Z","created_by":"Chris Douglas","updated_at":"2026-02-26T19:37:24Z","dependencies":[{"issue_id":"endive-no0","depends_on_id":"endive-6xm","type":"blocks","created_at":"2026-02-26T19:37:28Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-oh5","title":"Validate expctl against real experiments/ directory","description":"Manual validation: expctl list totals match ls|wc -l, expctl list --verbose matches per-hash counts, expctl gc --stale preview, expctl compact --exclude exp4c --destructive --verify, expctl list after compact shows consolidated, expctl complete --group providers --seeds 5 --dry-run.","status":"open","priority":3,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-26T20:59:18Z","created_by":"Chris Douglas","updated_at":"2026-02-26T20:59:18Z","dependencies":[{"issue_id":"endive-oh5","depends_on_id":"endive-bke","type":"blocks","created_at":"2026-02-26T20:59:27Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-pcz","title":"Implement uniform Catalog interface (read/commit)","description":"Create endive/catalog.py per SPEC.md §2. Includes:\n- CatalogSnapshot dataclass (frozen): seq, tables, timestamp_ms, get_table(), get_partition_version()\n- TableMetadata dataclass (frozen): version, partition_versions\n- CommitResult dataclass (frozen): success, snapshot (None on success, present on failure), latency_ms\n- CASResult, AppendResult, IntentionRecord as internal types\n- Catalog ABC with read() and commit() only (uniform interface)\n- CASCatalog: wraps StorageProvider.cas() internally, returns CommitResult\n  - Success: CommitResult(True, None, latency) — no snapshot returned\n  - Failure: CommitResult(False, snapshot, latency) — snapshot for conflict resolution\n- AppendCatalog: wraps StorageProvider.append() + internal discovery read\n  - Handles physical failure (offset mismatch) internally\n  - Returns uniform CommitResult after append + discovery read\n- InstantCatalog: 1ms latency, CAS semantics, for testing\n\nUnit tests (tests/test_catalog.py):\n- CASCatalog: success returns no snapshot, failure returns snapshot\n- CASCatalog: seq increments by exactly 1 on success\n- AppendCatalog: commit includes discovery read cost in latency\n- AppendCatalog: physical failure handled internally\n- InstantCatalog: 1ms operations, CAS semantics\n- Snapshot immutability (frozen dataclass)\n- Catalog.seq never skips or decreases\n- read() returns consistent snapshot\n\nIntegration tests (tests/test_catalog_integration.py):\n- CASCatalog with real StorageProvider end-to-end\n- Multiple concurrent commits, only one succeeds per seq\n- CommitResult interface identical across CAS/Append/Instant","status":"closed","priority":1,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-22T18:13:50Z","created_by":"Chris Douglas","updated_at":"2026-02-22T18:31:45Z","closed_at":"2026-02-22T18:31:45Z","close_reason":"Implemented uniform Catalog interface per SPEC.md §2. CASCatalog, AppendCatalog, InstantCatalog with read()/commit() interface. 63 tests, all passing.","dependencies":[{"issue_id":"endive-pcz","depends_on_id":"endive-jz9","type":"blocks","created_at":"2026-02-22T18:14:59Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-q0o","title":"Phase 2: Fix config loading for baseline experiments","description":"Handle catalog.backend=service, recognize table_metadata_inlined/num_groups/ntable.zipf/seltbl.zipf","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-22T20:58:56Z","created_by":"Chris Douglas","updated_at":"2026-02-22T21:00:52Z","closed_at":"2026-02-22T21:00:52Z","close_reason":"catalog.backend=service handled, num_groups/table_metadata_inlined pass through without errors","dependencies":[{"issue_id":"endive-q0o","depends_on_id":"endive-cfd","type":"blocks","created_at":"2026-02-22T20:59:00Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-qh7","title":"Ensure figures are using colorblind-friendly palettes","description":"Check that figures are friendly to colorblind users, particularly heatmaps","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-24T02:06:42Z","created_by":"Chris Douglas","updated_at":"2026-02-24T05:43:53Z","closed_at":"2026-02-24T05:43:53Z","close_reason":"Replaced RdYlGn with RdYlBu, tab10 with Tol qualitative scheme, fixed group palette. viridis/plasma/inferno_r already colorblind-safe."}
{"id":"endive-qlr","title":"Scale all plot output to 1200px wide","description":"Plots are 3570px wide (12in @ 300dpi). Change DPI to 100 and standardize figure widths to 12in for 1200px output.","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-26T08:58:09Z","created_by":"Chris Douglas","updated_at":"2026-02-26T09:02:31Z","closed_at":"2026-02-26T09:02:31Z","close_reason":"Changed DPI from 300 to 100, standardized figure widths to 12in. Output is now ~1200px wide."}
{"id":"endive-r2u","title":"Implement exp4c: multi-table contention across storage providers","description":"Create exp4c_tables_providers.toml config and add 'providers' sweep group to run_all_experiments.py. 4D sweep: provider(5) x tables(6) x FA ratio(3) x load(10) = 900 configs.","status":"closed","priority":2,"issue_type":"feature","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-26T18:00:53Z","created_by":"Chris Douglas","updated_at":"2026-02-26T18:03:46Z","closed_at":"2026-02-26T18:03:46Z","close_reason":"Created exp4c_tables_providers.toml config (4D sweep: 5 providers x 6 table counts x 3 FA ratios x 10 loads = 900 configs) and added 'providers' group to run_all_experiments.py with sweep logic. Verified: TOML parses, 3-level key overrides work, dry-run shows 54 quick-mode configs, 53/54 quick runs succeed."}
{"id":"endive-ry3","title":"Add DES engine profiling (--profile flag)","description":"Implement profiling instrumentation per PROFILE_PLAN.md to explain slower-than-wallclock runtime at high arrival rates. Investigation confirmed no event loops — bottleneck is event volume (5-30 SimPy events per transaction). Steps: (1) _CountingEnvironment with event_count + active_processes, (2) events-per-transaction in TransactionResult, (3) time-series sampling in progress_reporter, (4) .profile.json output, (5) --profile flag in run_all_experiments.py with CSV collection, (6) check_progress.py enhancement, (7) analysis task for cost model.","status":"open","priority":3,"issue_type":"feature","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-27T19:06:21Z","created_by":"Chris Douglas","updated_at":"2026-02-27T19:06:21Z"}
{"id":"endive-s5j","title":"Cross-table CAS failures should not pay per-attempt I/O","description":"After CAS failure, the commit loop pays full per-attempt I/O (1 ML read + 1 MF write + 1 ML write) on every retry regardless of whether the intervening commit touched the same table. In reality, cross-table CAS failures (and same-table disjoint-partition failures) require no conflict resolution — just re-read the catalog and re-CAS. The only cost is 1 catalog read + 1 CAS round-trip.\n\nThis explains the exp4 null result: with 50 tables, 49/50 CAS failures are cross-table and should be nearly free, but the simulator charges ~160ms of S3 I/O per retry regardless. Fixing this should make num_tables a significant factor in throughput under contention.\n\nFix requires:\n1. After CAS failure, call catalog.read() (CAS does not return catalog content on failure)\n2. Check write overlap: did any intervening commit modify the same table AND overlapping partitions?\n3. If NO overlap: skip per-attempt I/O and conflict cost, just retry CAS\n4. If overlap: pay per-attempt I/O and conflict cost as before\n\nThis applies to ALL transaction types (FastAppend, MergeAppend, ValidatedOverwrite).\n\nCommitResult.snapshot should be removed (CAS failure does not return state). Transaction must call catalog.read() explicitly on failure, which charges a read round-trip.\n\nSPEC.md has been updated.","status":"closed","priority":1,"issue_type":"bug","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-24T21:37:28Z","created_by":"Chris Douglas","updated_at":"2026-02-24T22:18:19Z","closed_at":"2026-02-24T22:18:19Z","close_reason":"Implemented cross-table CAS optimization: CommitResult simplified, has_write_overlap() added, commit loop restructured, 16 new tests"}
{"id":"endive-s96","title":"Post-phase cleanup: Remove legacy Txn/LogEntry and old operation.py/conflict.py","description":"After Transaction types (endive-iyg, already closed) were implemented in the new endive/transaction.py, the legacy Txn/LogEntry classes at the bottom of transaction.py, plus old endive/operation.py and endive/conflict.py, are redundant.\n\n## Tasks\n- Remove legacy Txn class from endive/transaction.py\n- Remove legacy LogEntry class from endive/transaction.py\n- Remove old endive/operation.py\n- Remove old endive/conflict.py\n- Update main.py to use new Transaction types (FastAppend, MergeAppend, ValidatedOverwrite)\n- Remove associated old tests if any\n- Verify no remaining references to old classes/modules\n- Run full test suite to confirm nothing breaks\n\n## Context\nThis is part of the dead code cleanup for the Endive simulator rewrite per SPEC.md. Blocks the Simulation runner (endive-9tv).","status":"closed","priority":3,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-22T18:44:36Z","created_by":"Chris Douglas","updated_at":"2026-02-22T19:38:49Z","closed_at":"2026-02-22T19:38:49Z","close_reason":"Consolidated old modules into endive/_legacy.py, deleted 5 old modules and 3 old test files. 676 tests pass."}
{"id":"endive-sn3","title":"Re-sync analysis and plotting pipeline with new schema","description":"Update endive/saturation_analysis.py, endive/capstats.py, and plotting scripts to work with the refactored simulator output. Includes:\n- Update capstats.py to collect from new TransactionResult/Statistics types\n  - Add abort_reason tracking (validation_exception vs max_retries)\n  - Add per-operation-type breakdowns (fast_append/merge_append/validated_overwrite)\n  - Track I/O counters (ML reads/writes, manifest file reads/writes)\n- Update saturation_analysis.py parameter extraction for new config keys\n  - Handle operation_types.fast_append, merge_append, validated_overwrite weights\n  - Handle new catalog_type field (cas/append/instant)\n- Update plotting functions for operation-type-aware analysis\n  - Latency breakdown by operation type\n  - Abort rate by operation type (validation_exceptions)\n  - I/O convoy visualization for ValidatedOverwrite\n- Update consolidated parquet schema if needed\n- Verify existing plot generation still works with new data\n\nUnit tests (tests/test_analysis_pipeline.py):\n- Parameter extraction handles new config keys\n- Statistics correctly aggregate by operation type\n- Plotting functions produce output without errors on new schema\n- Backward compatibility: old experiment data still loadable\n\nIntegration tests:\n- Run simulation → export parquet → load in analysis pipeline → generate plots\n- Verify plots contain operation-type breakdowns when configured","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-22T18:14:33Z","created_by":"Chris Douglas","updated_at":"2026-02-22T20:00:37Z","closed_at":"2026-02-22T20:00:37Z","close_reason":"New Statistics.to_dataframe() produces compatible parquet; analysis pipeline works unchanged","dependencies":[{"issue_id":"endive-sn3","depends_on_id":"endive-9tv","type":"blocks","created_at":"2026-02-22T18:15:33Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-ta7","title":"Post-phase cleanup: Remove old snapshot.py and catalog_provider.py","description":"After Catalog (endive-pcz, already closed) was implemented as endive/catalog.py, the old endive/snapshot.py, endive/catalog_provider.py, and their tests are redundant.\n\n## Tasks\n- Update imports throughout codebase to use new catalog.py types\n- Remove old endive/snapshot.py\n- Remove old endive/catalog_provider.py\n- Remove old tests/test_snapshot_api.py\n- Remove old tests/test_snapshot_versioning.py\n- Remove old tests/test_providers.py\n- Verify no remaining references to old modules\n- Run full test suite to confirm nothing breaks\n\n## Context\nThis is part of the dead code cleanup for the Endive simulator rewrite per SPEC.md. Blocks the Simulation runner (endive-9tv).","status":"closed","priority":3,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-22T18:44:31Z","created_by":"Chris Douglas","updated_at":"2026-02-22T19:38:49Z","closed_at":"2026-02-22T19:38:49Z","close_reason":"Consolidated old modules into endive/_legacy.py, deleted 5 old modules and 3 old test files. 676 tests pass."}
{"id":"endive-u1i","title":"Phase 5: Fix issues found during evaluation","description":"Fix any column mismatches, missing values, or analysis pipeline assumptions","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-22T20:58:57Z","created_by":"Chris Douglas","updated_at":"2026-02-22T21:05:45Z","closed_at":"2026-02-22T21:05:45Z","close_reason":"No issues found. All 479 tests pass, all 3 experiment types (FA, instant catalog, mixed ops) run correctly, analysis pipeline generates all plots.","dependencies":[{"issue_id":"endive-u1i","depends_on_id":"endive-8ig","type":"blocks","created_at":"2026-02-22T20:59:02Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-uck","title":"Migration: swap old main.py for new modules, end-to-end validation","description":"Final migration phase: replace old monolithic main.py with new modular architecture. Includes:\n- Wire new modules into main.py entry point (or replace entirely)\n- Ensure all experiment_configs/*.toml work with new config loader\n- Run full test suite (target: all existing tests pass or have clear replacement)\n- Run baseline experiments and compare results to existing baseline\n  - Same seed + same config should produce statistically equivalent results\n  - Exact bitwise match not required (architecture change), but distributions should match\n- Update scripts/run_all_experiments.py for new module structure\n- Update scripts/regenerate_all_plots.sh if needed\n- Clean up old code paths no longer needed\n- Update CLAUDE.md with new module locations and patterns\n\nValidation checklist:\n- [ ] All unit tests pass (target: 400+)\n- [ ] All integration tests pass\n- [ ] Baseline experiment results within 5% of previous\n- [ ] Plotting pipeline produces correct output\n- [ ] Consolidated parquet format compatible\n- [ ] Determinism preserved: same seed = identical results\n- [ ] Performance: simulation speed \u003e= 800x real-time","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-22T18:14:38Z","created_by":"Chris Douglas","updated_at":"2026-02-22T20:00:38Z","closed_at":"2026-02-22T20:00:38Z","close_reason":"Migration complete: CLI uses load_simulation_config + Simulation, old tests deleted, _legacy.py removed","dependencies":[{"issue_id":"endive-uck","depends_on_id":"endive-2m0","type":"blocks","created_at":"2026-02-22T18:45:05Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-uck","depends_on_id":"endive-byj","type":"blocks","created_at":"2026-02-22T18:15:36Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-uck","depends_on_id":"endive-sn3","type":"blocks","created_at":"2026-02-22T18:15:40Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-vq0","title":"Epic: Simulator rewrite per SPEC.md","description":"Rewrite the Endive simulator following SPEC.md architecture. Uniform Catalog interface (read/commit), StorageProvider with opaque latencies, typed Transactions (FastAppend/MergeAppend/ValidatedOverwrite), Workload generator with topology ownership, CommitResult as sole public type. Each phase includes unit tests and integration tests.","status":"closed","priority":1,"issue_type":"epic","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-22T18:13:07Z","created_by":"Chris Douglas","updated_at":"2026-02-22T20:03:10Z","closed_at":"2026-02-22T20:03:10Z","close_reason":"All subtasks complete. Simulator rewritten per SPEC.md: StorageProvider, Catalog, Transaction types, ConflictDetector, Workload, Simulation runner, Config loading, CLI migration, dead code cleanup. 479 tests passing.","dependencies":[{"issue_id":"endive-vq0","depends_on_id":"endive-86t","type":"blocks","created_at":"2026-02-22T18:15:56Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-vq0","depends_on_id":"endive-9tv","type":"blocks","created_at":"2026-02-22T18:16:00Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-vq0","depends_on_id":"endive-byj","type":"blocks","created_at":"2026-02-22T18:16:03Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-vq0","depends_on_id":"endive-f34","type":"blocks","created_at":"2026-02-22T18:15:53Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-vq0","depends_on_id":"endive-iyg","type":"blocks","created_at":"2026-02-22T18:15:50Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-vq0","depends_on_id":"endive-jz9","type":"blocks","created_at":"2026-02-22T18:15:43Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-vq0","depends_on_id":"endive-pcz","type":"blocks","created_at":"2026-02-22T18:15:48Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-vq0","depends_on_id":"endive-sn3","type":"blocks","created_at":"2026-02-22T18:16:06Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-vq0","depends_on_id":"endive-uck","type":"blocks","created_at":"2026-02-22T18:16:09Z","created_by":"Chris Douglas","metadata":"{}"},{"issue_id":"endive-vq0","depends_on_id":"endive-xxk","type":"blocks","created_at":"2026-02-22T18:45:12Z","created_by":"Chris Douglas","metadata":"{}"}]}
{"id":"endive-vvn","title":"Fix: Pay validation IO before real conflict detection","description":"Per SIMULATOR_REVIEW.md §10.1 and §2.5: ValidatedOverwriteTransaction._commit_loop() currently checks is_real_conflict() at line 365 BEFORE paying get_conflict_cost() IO at line 382. On real conflict, the abort at line 370 skips the N historical ML reads entirely.\n\nIn Iceberg, validate() performs all IO (N historical ML reads via validationHistory()) before determining whether a conflict exists. The transaction must pay full validation IO on every retry attempt regardless of conflict type.\n\nFix: Move the get_conflict_cost() / _pay_conflict_cost() block (lines 380-384) ABOVE the is_real_conflict() check (lines 364-373). Both real and false conflicts must pay the same O(N) IO cost upfront.\n\nFile: endive/transaction.py, _commit_loop() around lines 360-384.","status":"closed","priority":1,"issue_type":"bug","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-24T05:47:39Z","created_by":"Chris Douglas","updated_at":"2026-02-24T06:06:38Z","closed_at":"2026-02-24T06:06:38Z","close_reason":"Moved get_conflict_cost() / _pay_conflict_cost() above is_real_conflict() check in _commit_loop(). Validation IO now paid on every failed attempt before conflict detection, matching Iceberg's validate() ordering."}
{"id":"endive-xg2","title":"Rebuild Docker image with updated experiment configs","description":"The Docker image (cdouglas/endive-sim:latest) has stale code. Needs rebuild to pick up:\n- New CATALOG_LATENCY_SWEEP: [1, 5, 10, 20, 50, 80, 120] ms (was [1, 10, 40, 43, 118])\n- Exp3a/3b now use full LOAD_SWEEP (10 arrival rates, was 4)\n- Plot improvements (colorblind palettes, heatmap text color, cooldown annotation, etc.)\n\nRun: docker build -t cdouglas/endive-sim:latest .","status":"closed","priority":2,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-24T05:52:09Z","created_by":"Chris Douglas","updated_at":"2026-02-24T18:29:08Z","closed_at":"2026-02-24T18:29:08Z","close_reason":"Closed"}
{"id":"endive-xxk","title":"Final cleanup: Comprehensive dead code sweep","description":"After migration (endive-uck) completes, do a thorough sweep to ensure no dead code remains before the epic closes.\n\n## Tasks\n- Remove ALL unused imports across the codebase\n- Remove any remaining dead code in all modules\n- Remove orphaned test files that no longer test active code\n- Remove stale experiment configs that reference old modules\n- Verify no old types (Txn, LogEntry, CatalogSnapshot from snapshot.py, etc.) leak through\n- Run full test suite (all 428+ tests)\n- Run linter/static analysis to catch any remaining issues\n- Verify all imports resolve correctly\n- Final confirmation that the codebase is clean\n\n## Context\nThis is the final gate before the epic (endive-vq0) closes. Blocked by Migration (endive-uck). Blocks the epic (endive-vq0).","status":"closed","priority":3,"issue_type":"task","owner":"chris_douglas@berkeley.edu","created_at":"2026-02-22T18:44:47Z","created_by":"Chris Douglas","updated_at":"2026-02-22T20:02:59Z","closed_at":"2026-02-22T20:02:59Z","close_reason":"Dead code sweep complete: deleted _legacy.py, capstats.py, experiment.py, analysis.py, test_distribution_conformance.py, and 14 old test files","dependencies":[{"issue_id":"endive-xxk","depends_on_id":"endive-uck","type":"blocks","created_at":"2026-02-22T18:45:09Z","created_by":"Chris Douglas","metadata":"{}"}]}
