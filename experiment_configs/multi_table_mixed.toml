# Multi-Table, Mixed Conflicts
#
# Blog Question 2b: How do non-trivial conflicts affect multi-table throughput?
#
# Combines:
# - Multiple tables with Zipf selection
# - Mix of trivial and non-trivial conflicts
#
# Sweep both num_tables and real_conflict_probability:
# - num_tables: [2, 5, 10, 20]
# - real_conflict_probability: [0.0, 0.1, 0.3, 0.5]
#
# At fixed inter_arrival.scale = 100 (10 TPS offered)

[simulation]
duration_ms = 3600000
output_path = "results.parquet"

[experiment]
label = "multi_table_mixed"

[catalog]
num_tables = 10  # SWEEP: [2, 5, 10, 20]
num_groups = 1
table_metadata_inlined = false

[transaction]
retry = 10
runtime.min = 30000
runtime.mean = 180000
runtime.sigma = 1.5

inter_arrival.distribution = "exponential"
inter_arrival.scale = 100.0

ntable.zipf = 1.5
seltbl.zipf = 1.4
seltblw.zipf = 1.2

real_conflict_probability = 0.3  # SWEEP: [0.0, 0.1, 0.3, 0.5]

conflicting_manifests.distribution = "exponential"
conflicting_manifests.mean = 3.0
conflicting_manifests.min = 1
conflicting_manifests.max = 10

[storage]
provider = "s3"
max_parallel = 4
min_latency = 1
