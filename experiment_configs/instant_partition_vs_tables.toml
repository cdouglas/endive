# Instant Catalog: Partitions vs Tables Comparison
#
# Compares two ways to achieve isolation:
# 1. Multiple tables (N tables, transactions touch 1 table)
# 2. Single partitioned table (1 table with N partitions)
#
# Both should show similar throughput scaling, demonstrating that
# partition isolation is equivalent to table isolation for OCC.
#
# Use with instant_ntbl_trivial for comparison.
#
# Sweep num_partitions: [2, 5, 10, 20]  # Match num_tables sweep
# Sweep inter_arrival.scale: [20, 50, 100, 200, 500, 1000, 2000, 5000]

[simulation]
duration_ms = 3600000
output_path = "results.parquet"

[experiment]
label = "instant_partition_vs_tables"

[catalog]
num_tables = 1  # Single table, partitioned
num_groups = 1
backend = "service"
table_metadata_inlined = false

[catalog.service]
provider = "instant"

[partition]
enabled = true
num_partitions = 10  # Swept: 2, 5, 10, 20
selection.distribution = "uniform"

[partition.partitions_per_txn]
mean = 1.0  # Transactions touch exactly 1 partition (like 1 table)
max = 1

[transaction]
retry = 10
runtime.min = 30000
runtime.mean = 180000
runtime.sigma = 1.5
inter_arrival.distribution = "exponential"
inter_arrival.scale = 100.0
real_conflict_probability = 0.0
manifest_list_mode = "rewrite"

[storage]
provider = "s3"
max_parallel = 4
min_latency = 1
