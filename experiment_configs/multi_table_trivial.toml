# Multi-Table, Trivial Conflicts
#
# Blog Question 2a: How does adding more tables affect throughput?
#
# With multiple tables:
# - Table conflicts are independent (assuming fast catalog)
# - More tables = lower chance of conflict on same table
# - But: more tables per transaction = more manifest lists to merge
#
# Table selection uses Zipf distributions:
# - Number of tables per txn: sigma=1.5 (most access 2-3 tables)
# - Which tables: sigma=1.4 (moderate skew for "hot" tables)
# - Which are written: sigma=1.2 (most read tables are written)
#
# Sweep num_tables: [1, 2, 5, 10, 20, 50]
# At fixed inter_arrival.scale = 100 (10 TPS offered)

[simulation]
duration_ms = 3600000
output_path = "results.parquet"

[experiment]
label = "multi_table_trivial"

[catalog]
num_tables = 10  # SWEEP THIS: [1, 2, 5, 10, 20, 50]
num_groups = 1   # Catalog-level conflicts
table_metadata_inlined = false

[transaction]
retry = 10
runtime.min = 30000
runtime.mean = 180000
runtime.sigma = 1.5

inter_arrival.distribution = "exponential"
inter_arrival.scale = 100.0

# Table selection Zipf parameters
ntable.zipf = 1.5    # Most transactions access 2-3 tables
seltbl.zipf = 1.4    # Moderate skew for hot tables
seltblw.zipf = 1.2   # Most read tables are also written

real_conflict_probability = 0.0  # All trivial

conflicting_manifests.distribution = "exponential"
conflicting_manifests.mean = 3.0
conflicting_manifests.min = 1
conflicting_manifests.max = 10

[storage]
provider = "s3"
max_parallel = 4
min_latency = 1
